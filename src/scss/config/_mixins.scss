@use "sass:color";
@use "sass:map";

@use "../core/" as core;


//  B r e a k p o i n t s    B a s e
$breakpoints: (
    // Teléfonos muy pequeños (modo retrato)
    obsolete-phone: 250px,
    phone-small: 320px,
    // Teléfonos estándar
    phone: 576px,
    // Tablets verticales
    tablet: 768px,
    // laptop: 992px,
    laptop: 992px,
    // Laptops y tablets horizontales
    desktop: 1200px // Escritorios grandes
);

// Mixin para responder a breakpoints
@mixin respond($device) {
    $value: map.get($breakpoints, $device);

    @if $value {
        @media (min-width: $value) {
            @content;
        }
    }

    @else {
        @warn "El breakpoint '#{$device}' no está definido en \$breakpoints.";
    }
}


//  ***** C o n t a i n e r s  *****

// - anchos máximos del container standard 
$container-widths: (
    phone: 540px,
    tablet: 729px,
    laptop: 960px,
    desktop: 1140px
);


// Anchos máximos del container narrow
$container-narrow-widths: (
    phone: 400px,
    tablet: 600px,
    laptop: 800px,
    desktop: 960px
);


// Mixin container base
@mixin container($widths) {
    margin: 0 auto;
    padding: 0 15px;

    @each $device, $width in $widths {
        @include respond($device) {
            max-width: $width;
        }
    }
}


//  Cualquiera de estos dos contenedores, se aplican 
// directamente en el HTML. 
//   Ej: <div class="container-narrow">
.fluid-container {
    margin: 0 auto;
    padding: 0 15px;
    max-width: 100%; // ocupa todo el ancho
}

.narrow-container {
    @include container($container-narrow-widths);
}

.basic-container {
    margin: 0 auto;
    width: 100%;
}

//  G r i d 
@mixin grid($columnas, $espaciado ) {
    display: grid;
    gap: $espaciado;
    grid-template-columns: repeat($columnas, 1fr);
}

@mixin grid-responsive($gap: 2rem) {
    display: grid;
    gap: $gap;
    grid-template-columns: 1fr;

    @media (min-width: 480px) {
        grid-template-columns: repeat(2, 1fr);
    }

    @media (min-width: 768px) {
        grid-template-columns: repeat(3, 1fr);
    }
}

@mixin grid-fluid($min: 250px, $gap: 2rem) {
    display: grid;
    gap: $gap;
    justify-content: center;
    grid-template-columns: repeat(auto-fit, minmax($min, 1fr));
    padding: 0 40px;
}

//   B o t o n e s 
@mixin button-style($bg: core.$primary,
    $color: white,
    $radius: 5px,
    $padding: 10px 20px,
    $font-size: 1.2em,
    $border: 2px solid rgba(0, 0, 0, 0.3),
    $shadow: 0 2px 6px rgba(0, 0, 0, 0.5),
    // Aquí usamos color.adjust en lugar de darken
    $hover-bg: color.adjust($bg, $lightness: -7%)) {
    padding: $padding;
    font-weight: bold;
    background: $bg;
    color: $color;
    font-size: $font-size;
    border-radius: $radius;
    border: $border;
    box-shadow: $shadow;
    text-align: center;
    width: 100px;
    cursor: pointer;
    transition: background 0.3s ease;

    &:hover {
        background-color: $hover-bg;
    }
}

/* F u e n t e s    R e s p o n s i v a s */
// Tamaños base para listas no ordenadas y ordenadas
$list-sizes: (
    obsolete-phone: 1.5rem,
    phone-small: 1.5rem,
    phone: 1.9rem,
    tablet: 1.3rem,
    laptop: 1.4rem,
    desktop: 1.6rem
);
// Definimos los tamaños para h1
$h1-sizes: (
    obsolete-phone: 1.5rem,
    phone-small: 2.2rem,
    phone: 1.8rem,
    tablet: 2.8rem,
    laptop: 3.8rem,
    desktop: 4.7rem
);
// Definimos los tamaños para h1
$h2-sizes: (
    obsolete-phone: 1.5rem,
    phone-small: 1.9rem,
    phone: 1.9rem,
    tablet: 2rem,
    laptop: 2.7rem,
    desktop: 3.1rem
);
// Definimos los tamaños para Título de secciones
$section-titles-sizes: (
    obsolete-phone: 1.8rem,
    phone-small: 2.6rem,
    phone: 3.4rem,
    tablet: 3.8rem,
    laptop: 4rem,
    desktop: 5rem
);


// Ejemplo de mapa de tamaños para párrafos
$p-sizes: (
    obsolete-phone: 1.2rem,
    phone-small: 1.35rem,
    phone: 1.45rem,
    tablet: 1.8rem,
    laptop: 2rem,
    desktop: 2.2rem
);
// Tamaños para listas anidadas (un poco más pequeñas)
$nested-list-sizes: (
    obsolete-phone: 1.8rem,
    phone-small: 0.9rem,
    phone: 0.95rem,
    tablet: 1rem,
    laptop: 1.05rem,
    desktop: 1.1rem
);
/* / Tamaños de fuente para los enlaces del nav */
$nav-font-sizes: (
    obsolete-phone: 1rem,
    phone-small: 1rem,
    phone: 1.1rem,
    tablet: 1.2rem,
    laptop: 1.3rem,
    desktop: 1.4rem
);
// Tamaños responsivos para <span>
$span-sizes: (
    phone-small: 1.2rem,
    // -0.1rem respecto a párrafo
    phone: 1.5rem,
    // -0.1rem
    tablet: 1.5rem,
    // -0.1rem
    laptop: 1.7rem,
    // -0.1rem
    desktop: 1.8rem // -0.1rem
);
// Tamaños responsivos para <span> usado en branding/header
$span-brand-sizes: (
    obsolete-phone: 1.4rem,
    // un poco más pequeño que h1
    phone-small: 1.5rem,
    phone: 1.6rem,
    tablet: 1.50rem,
    laptop: 1.70rem,
    desktop: 1.7rem
);

// Mixin reutilizable para tipografía responsiva
@mixin responsive-font($sizes) {
    @each $device, $size in $sizes {
        @include respond($device) {
            font-size: $size;
        }
    }
}

// Mixin reutilizable
@mixin responsive-span-brand {
    @include responsive-font($span-brand-sizes);
    font-weight: bold; // refuerza identidad
    letter-spacing: 0.03em; // da aire tipográfico
    // TODO: evaluar que color aplicar
    // color: core.$primary; // tu color #7700F0
}

// Estilos para listas
// ul,
// ol {
//     @include responsive-font($list-sizes);
//     line-height: 1.5;
//     margin: 0 0 1rem 1.25rem; // espacio y sangría
//     color: #333;

//     // Ajuste de marcadores
//     list-style-position: outside;

//     // Espacio entre ítems
//     li {
//         margin-bottom: 0.4em;

//         // Listas anidadas: un paso más pequeño
//         ul,
//         ol {
//             @include responsive-font($nested-list-sizes);
//             margin-top: 0.7em;
//             margin-left: 1.25rem;
//         }
//     }
// }

// Diferenciar ol con números
ol {
    list-style-type: decimal;
}

ul {
    list-style-type: disc;
}